<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Poke-Lens - Overview</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>

  <nav>
    <div class="nav-container">
      <a href="home.html" class="nav-title">Poke-Lens</a>
      <div class="nav-links">
        <a href="index.html" class="nav-link active">Overview</a>
        <a href="lens.html" class="nav-link">Lens</a>
        <a href="collection.html" class="nav-link">Collection</a>
        <a href="trends.html" class="nav-link">Trends</a>
      </div>
      <div class="nav-auth">
        <button class="login-btn">Log In</button>
      </div>
    </div>
  </nav>

  <div class="page-content">

    <!-- Charts -->
    <div class="charts-wrapper">
      
      <!-- Line Chart Section -->
      <div class="line-chart-section">
        <!-- Total Value - moved above line chart -->
        <div class="total-price">
          Total Collection Value: $697.16
        </div>
        
        <div class="chart-box line-chart-container">
          <canvas id="lineChart"></canvas>
        </div>
        
        <!-- Top Cards - moved directly under line chart -->
        <div>
          <div class="section-title">Top Cards in Collection</div>
          <div class="card-slot">
            <div class="card-name">M Latios EX (102 Full Art), Roaring Skies</div>
            <div class="card-price">$77.79</div>
          </div>
          <div class="card-slot">
            <div class="card-name">Lugia EX (Team Plasma) (134 Full Art), Plasma Storm</div>
            <div class="card-price">$420.38</div>
          </div>
          <div class="card-slot">
            <div class="card-name">Charizard EX, 151</div>
            <div class="card-price">$198.99</div>
          </div>
        </div>
      </div>

      <!-- Pie Chart -->
      <div class="chart-box pie-chart-container">
        <canvas id="pieChart"></canvas>
      </div>
      
      <!-- Pie Chart Legend -->
      <div class="pie-chart-legend">
        <div class="legend-item">
          <span class="legend-color" style="background-color: #FF6384;"></span>
          <span class="legend-text">2 Sealed items</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #36A2EB;"></span>
          <span class="legend-text">4 Raw cards</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #FFCE56;"></span>
          <span class="legend-text">2 Graded cards</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Line Chart (Random Data)
    const ctxLine = document.getElementById('lineChart').getContext('2d');
    new Chart(ctxLine, {
      type: 'line',
      data: {
        labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'],
        datasets: [{
          label: 'Collection Value Over Time',
          data: [500, 520, 600, 650, 697],
          borderColor: '#4A90E2',
          backgroundColor: 'rgba(74, 144, 226, 0.1)',
          borderWidth: 3,
          fill: true,
          tension: 0.4,
          pointBackgroundColor: '#4A90E2',
          pointBorderColor: '#ffffff',
          pointBorderWidth: 2,
          pointRadius: 6,
          pointHoverRadius: 8,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        // CHART SIZE CONTROL: Set a fixed height for the chart
        // You can change this value to make the chart taller or shorter
        height: 300,
        plugins: {
          legend: {
            display: false
          },
          title: {
            display: true,
            text: 'Collection Value Trend',
            font: {
              size: 16,
              weight: 'bold'
            },
            color: '#2A2D34'
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            grid: {
              color: 'rgba(0,0,0,0.05)'
            },
            ticks: {
              callback: function(value) {
                return '$' + value;
              }
            }
          },
          x: {
            grid: {
              color: 'rgba(0,0,0,0.05)'
            }
          }
        },
        elements: {
          point: {
            hoverBackgroundColor: '#4A90E2'
          }
        }
      }
    });

    // Pie Chart
    const ctxPie = document.getElementById('pieChart').getContext('2d');
    new Chart(ctxPie, {
      type: 'pie',
      data: {
        labels: ['Sealed', 'Raw', 'Graded'],
        datasets: [{
          data: [30, 45, 25],
          backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56'],
          borderWidth: 2,
          borderColor: '#ffffff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        // PIE CHART SIZE CONTROL: Set a fixed height for the pie chart
        // You can change this value to make the pie chart taller or shorter
        height: 250,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              padding: 15,
              usePointStyle: true,
              font: {
                size: 12
              }
            }
          },
          title: {
            display: true,
            text: 'Card Condition Distribution',
            font: {
              size: 14,
              weight: 'bold'
            },
            color: '#2A2D34'
          }
        }
      }
    });
  </script>

</body>
</html>
